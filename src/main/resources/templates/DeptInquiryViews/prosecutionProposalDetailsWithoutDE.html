<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">

<th:block th:include="fragments/ehrms_headerlib.html :: headerlib"></th:block>

<head>
	<title>Prosecution Case Details without DE</title>
	<style>
		.ui-menu .ui-menu-item-wrapper {
			color: #303030 !important;
			background-color: #fff !important;
		}

		.ui-menu .ui-menu-item-wrapper:hover {
			color: #303030 !important;
			background-color: rgb(192, 192, 192) !important;
			border: #fff 1px solid !important;
		}

		.ui-widget-content {
			border: 1px solid #ddd;
			background: rgb(192, 192, 192) !important;
			color: #333 !important;
		}
	</style>
</head>

<body sec:authorize="isAuthenticated()"   th:with="isAdmin = ${#authorization.expression('hasAnyRole(''ROLE_SUPERADMIN'')')},currentUser = ${#authentication.getPrincipal().getUsername()}">
	<div class="container-scroller" sec:authorize="isAuthenticated()" id="up">
		<!--		<nav th:insert="Probation/sidebar3_2_8.html :: ehrms_sidebar3_2_8"  aria-label="sidebar fragment"></nav>-->
		<nav th:insert="commonsidebar/commonsidebar.html :: commonsidebar" aria-label="sidebar fragment"></nav>
		<div class="container-fluid page-body-wrapper">
			<div th:replace="fragments/ehrms_settingspanel.html :: setting_panel"></div>
			<nav th:insert="fragments/ehrms_navbar.html :: navbar" aria-label="navbar fragment"></nav>
			<div class="main-panel">
			
					<div class="card-body">
						<h3>
							<strong><div style="margin-top: 17px;"><span th:text="#{de.prosecutionwithoutde.label}"></span>
							 <div align="right" style="margin-top: -30px;"><a href="#downbtn" class="btn btn-info btn-sm"><span th:text="#{de.scroll.down.AllBtn}"></span></a> </div>
							 </div>
							
							</strong>

						</h3>
					</div>
					<div class="row text-wrap" style="background-color:gray;">
					</div>
					<br><br>
						

					<div class="row" style="margin-top: -42px;margin-left: 22px;padding-right: 29px;">
						<div class="col-lg-12 grid-margin stretch-card">
							<div class="card">
								<div class="card-body">
									<form th:action="@{/departmentalEnquiry/addProsecutionProposalDetailsWithoutDe}" id="noticeregisteridmpsc"
										th:object="${ProsecutionProposalObj}" method="post"  enctype="multipart/form-data">

										<p style="color: red;"><span th:text="#{casedetails.mandatory.text.de}"></span></p>
										<div class="row">
											<input type="hidden" class="form-control" th:field="*{id}">
                                          <div class="col-md-3 mb-3" id="withoutde">
												<label for="systemGenCaseNo" ><span data-toggle="tooltip" 
													title="Number of file on which procedure for sanction to prosecution has been initiated"><span th:text="#{de.fileno.text}"></span></span></label> <input
													type="text" class="form-control" id="fileno"
													th:attrappend="readonly=${ProsecutionProposalObj.fileNo ne null}?readonly:''"
												th:placeholder="#{case.casedetails.fileno.placeholder}"  th:field="${ProsecutionProposalObj.fileNo}"
													data-placement="right"
													required="required">
											</div>
											
											<div class="col-md-4 mb-3">
												<label for="employeeReInstated" style="margin: 10px">
													<span th:text="#{de.prosecutionProposalDetails.ProsecutionisReceived}"></span></label>
												<div>
													&nbsp; &nbsp; <input class="radio-inline"
														th:field="*{prosecutionProposalReceived}" type="radio"
														name="prosecutionProposalReceived"
														id="prosecutionProposalReceivedyes" value="true" checked>
													<span th:text="#{de.chargesheetissued.yes}"></span> <input th:field="*{prosecutionProposalReceived}" type="radio"
														name="prosecutionProposalReceived" class="ml-4"
														id="prosecutionProposalReceivedno" value="false">
													<span th:text="#{de.chargesheetissued.no}"></span>
												</div>
											</div>
											
											
											</div>
											<div class="row form-group" id="prosecutionProposalReceiveddata">

											<div class="col-md-3 mb-3">
												<label for="systemGenCaseNo"><center><span th:text="#{de.sevarth.id}"></span> </center></label> <input type="text"
													class="form-control" id="sevarthId"   th:placeholder="#{case.casedetails.placeholder.sevarthid}"
													th:field="*{sevarthId}">
											</div>

											
											
											<div class="col-md-3 mb-3">
												<label for="FirstName"><span th:text="#{de.firstName.label}"></span> </label>
												
												<input type="text"
													class="form-control" id="firstname" th:placeholder="#{fname.placeholder}" required="required"
													th:field="${ProsecutionProposalObj.firstName}">
											</div>

											


											<div class="col-md-3 mb-3">
												<label for="systemGenCaseNo"><span th:text="#{de.middleName.label}"></span></label> <input type="text"
													class="form-control" id="middleName"   th:placeholder="#{mname.placeholder}"
													th:field="*{middleName}">
											</div>

											<div class="col-md-3 mb-3">
												<label for="systemGenCaseNo"><span th:text="#{de.lastName.label}"></span></label> <input type="text" required="required"
													class="form-control" id="lastName"  th:placeholder="#{de.lastName.placeholder}"
													th:field="*{lastName}">
											</div>
											
											<div class="col-md-3 mb-3">
												<label for="typeOfMisconduct"><span th:text="#{de.empdetails.groupOfEmployee}"></span></label> <select
													class="form-control" th:field="*{servicegroup}" id="servicegroup"
													required="required">
													<option value=""  th:text="#{dropdown.select}">Select</option>
													<option th:each="group:${serviceGroup}" th:value="${group.id}"
														th:text="${group.service_group_name}"></option>
												</select>
											</div>



											<div class="col-md-3 mb-3">
												<label for="typeOfMisconduct"><span th:text="#{de.empdetails.designation}"></span></label> <select
													class="form-control" th:field="${ProsecutionProposalObj.designation.designation_id}" id="designation"
													required="required" data-width="100%">
													<option value=""  th:text="#{dropdown.select}">Select</option>
													<option th:each="designation:${designation}"
														th:value="${designation.designation_id}"
														th:text="${designation.designation_name_en}"></option>
												</select>
											</div>

  
  
											<div class="col-md-3 mb-3">
												<label for="date"><span><span th:text=" #{de.prosecutionProposal.dateofreceipt}"></span></span></label> <input
													id="dateOfReceipt" class="form-control" min="1900-01-01"
													th:attrappend="max=${#temporals.format(#temporals.createNow(), 'yyyy-MM-dd',#locale.forLanguageTag('en'))}"  type="date"
													th:field="${ProsecutionProposalObj.dateOfReceipt}" />
											</div>


											<div class="col-md-3 mb-3">
												<label for="employeeReInstated"><span th:text=" #{de.prosecutionProposal.proposalstatus}"></span>  </label>
												<div>
													<input class="radio-inline"
														th:field="*{statusForGrantedDeniedPending}" type="radio"
														name="statusForGrantedDeniedPending"
														id="statusForGrantedDeniedPending" value="Sanction Granted"
														checked> <span th:text=" #{de.prosecutionProposal.sanctionGranted}"></span>
													<input th:field="*{statusForGrantedDeniedPending}" type="radio"
														name="statusForGrantedDeniedPending"
														id="statusForGrantedDeniedPending" value=" Sanction Denied">
												<span th:text=" #{de.prosecutionProposal.sanctiondenied}"></span> <input th:field="*{statusForGrantedDeniedPending}"
														type="radio" name="statusForGrantedDeniedPending"
														id="statusForGrantedDeniedPending" value="Pending">
													<span th:text=" #{de.prosecutionProposal.pending}"></span>
												</div>
											</div>



											<div class="col-md-3 mb-3" id="dateOfOrderReceiptdata">
												<label for="date"><span><span th:text=" #{de.prosecutionProposal.dateofOrderofSanction}"></span>
													</span></label> <input id="dateOfOrderReceipt" class="form-control"
													min="1900-01-01" th:attrappend="max=${#temporals.format(#temporals.createNow(), 'yyyy-MM-dd',#locale.forLanguageTag('en'))}"  type="date"
													th:field="${ProsecutionProposalObj.dateOfOrderReceipt}" />
											</div>






											<div class="col-md-3 mb-3" id="dateOfCommunicationdata">
												<label for="date"><span><span th:text=" #{de.prosecutionProposal.dateofcommunication}"></span>
													</span></label> <input id="dateOfCommunication" class="form-control"
													min="1900-01-01" th:attrappend="max=${#temporals.format(#temporals.createNow(), 'yyyy-MM-dd',#locale.forLanguageTag('en'))}"  type="date"
													th:field="${ProsecutionProposalObj.dateOfCommunication}" />
											</div>



											<div class="col-md-3 mb-3" id="filedatadata">
												<label for="uploadOder"><span th:text=" #{de.prosecutionProposal.uploadOrderProsecution}"></span>
												</label> <input type="file" id="filedata" name="filedata" accept=".pdf"
													class="form-control">
											</div>
											

											<!-- 	adding extra fields according to pdf -->

											<div class="col-md-3 mb-3" id="whetherCaseFiledIntheCourtdata">
												<label for="employeeReInstated" style="margin: 10px">
												<span th:text=" #{de.prosecutionProposal.casefiledincourt}"></span></label> &nbsp;
												<div>
													&nbsp; &nbsp; <input class="radio-inline"
														th:field="*{whetherCaseFiledIntheCourt}" type="radio"
														name="whetherCaseFiledIntheCourt"
														id="whetherCaseFiledIntheCourtYes" value="true" checked>
													<span th:text="#{de.chargesheetissued.yes}">
													</span> <input th:field="*{whetherCaseFiledIntheCourt}" type="radio"
														name="whetherCaseFiledIntheCourt"
														id="whetherCaseFiledIntheCourtNo" value="false">
													<span th:text="#{de.chargesheetissued.no}"></span>
												</div>
											</div>
											
											<div class="col-md-3 mb-3">
												<label for="date"><span><span th:text="#{ApplicantsList.prosecutionwithoutdechargesheetdate}">Date of filing of chargesheet in the court</span></span></label> <input
													id="courtChargeDate" class="form-control" min="1900-01-01"
													 type="date"
													th:field="${ProsecutionProposalObj.courtChargeSheetDate}" />
											</div>


											<div class="col-md-3 mb-3" id="statusdata">
												<label for="typeOfMisconduct"><span th:text=" #{de.prosecutionProposal.courtcasestatus}"></span></label>
												<select class="form-control" th:field="*{status}" id="status">
													<option value="" th:text="#{dropdown.select}">Select</option>
													<option value="Pending">Pending</option>
													<option value="Decided">Decided</option>
													<option th:each="statusdropdown:${statuslist}"
														th:value="${statusdropdown.id}"
														th:text="${statusdropdown.status}"></option>
												</select>
											</div>

											
											
											<div class="col-md-3 mb-3" id="courtNamedata">
												<label for="systemGenCaseNo"> <span th:text=" #{de.prosecutionProposal.courtName}"></span></label> <input
													type="text"  class="form-control" id="courtName"
													th:placeholder="#{enter.court.name.label}" th:field="${ProsecutionProposalObj.courtName}"
													>
											</div>
											
											
											
											<div class="col-md-3 mb-3" id="courtCaseNodata">
												<label for="systemGenCaseNo"> <span th:text=" #{de.prosecutionProposal.courtcasenumber}"></span> </label> <input
													type="text"  class="form-control" id="courtCaseNo"
													th:placeholder="#{enter.courtcaseno.here}" th:field="${ProsecutionProposalObj.courtCaseNo}"
													required="required">
											</div>
											
											



											<div class="col-md-3 mb-3" id="dateOfOrderoftheCourtdata">
												<label for="date"><span><span th:text="#{de.prosecutionProposal.dateoforderofthecourt}">
													</span>
													</span></label> <input id="dateOfOrderoftheCourt"
													class="form-control" min="1900-01-01" th:attrappend="max=${#temporals.format(#temporals.createNow(), 'yyyy-MM-dd',#locale.forLanguageTag('en'))}"  type="date"
													th:field="${ProsecutionProposalObj.dateOfOrderoftheCourt}" />
											</div>
											
											
											
											<div class="col-md-3 mb-3" id="decisionCourtdata">
												<label for="decisionCourt"><span th:text="#{de.decision.dropdown.label}"></span></label>
												<select class="form-control"  id="decisionCourt" th:field="${ProsecutionProposalObj.decisionCourt}" required>
													<option value="" th:text="#{dropdown.select}"></option>
													<option value="Conviction">Conviction</option>
													<option value="Aquittal">Acquittal</option>													
												</select>
											</div>
											
											
											<div class="col-md-3 mb-3" id="finalcourtorderdata">
												<label for="uploadOder"><span th:text="#{de.uploadorderfinalcourt.labels}"></span>
												</label> <input type="file" id="finalcourtorder" name="finalcourtorder" accept=".pdf"
													class="form-control">
											</div>
											
											
											<div class="col-md-4 mb-3" id="processflowdata">
												<label for="typeOfMisconduct"><span th:text="#{de.incidential.Proceeding.label}"></span></label>
												<select class="form-control"  id="processflow" th:field="${ProsecutionProposalObj.processFlow}" required>
													<option value=""  th:text="#{dropdown.select}">Select</option>
													<option value="1">No DE Initiated</option>
													<option value="2">Simultaneous DE Initiated</option>
													<option value="3">Special Procedure Initiated Under Rule 13(i) of M.C.S. (Discipline and Appeal) Rules, 1979</option>
													<option value="4">Procedure Initiated Under Rule 27(1) of M.C.S. (Pension) Rules, 1982</option>
												</select>
											</div>
											
											<div class="col-md-3 mb-3" id="dateofChargesheetIssued">
												<label for="date"><span><span th:text="#{de.prosecutionProposal.dateofChargesheetIssued}">
													</span>
													</span></label> <input id="dateofChargesheetIssued"
													class="form-control" min="1900-01-01" th:attrappend="max=${#temporals.format(#temporals.createNow(), 'yyyy-MM-dd',#locale.forLanguageTag('en'))}"  type="date"
													th:field="${ProsecutionProposalObj.dateofChargesheetIssued}"/>
											</div>
										
											
											
											<div class="col-md-3 mb-3" id="withdecaseid">
												<label for="systemGenCaseNo"><span th:text="#{de.decaseno.label}"></span> </label> <input
													type="text" class="form-control" id="SusCaseId"
													th:placeholder="#{case.casedetails.placeholder}"   th:field="${ProsecutionProposalObj.caseNo}"
													required="required">
											</div>
											
											
											
											
											
											<div class="col-md-3 mb-3" id="fileSubjectdata">
												<label><span th:text="#{de.casesdetails.fileSubject}">File Subject</span> :</label>
												<textarea id="fileSubject" class="form-control" readonly="readonly"></textarea>
											</div>
											
											<div class="col-md-3 mb-3" id="caseSummerydata">
												<label><span th:text="#{de.caseCasesummary.label}"></span> :</label>
												<textarea id="caseSummary" class="form-control" readonly="readonly"></textarea>
											</div>
											
											
											
											<div class="col-md-12 mb-4" id="remarkdata">
												<label for="Remarks"><span th:text=" #{de.prosecutionProposal.remark}"></span></label>
													
												<textarea rows="3" cols="200" class="form-control  col-md-12"  th:field="*{remark}" 
												th:placeholder="#{enter.fileno.ifprosecutionproceedings.initiated.onthefileotherthandefile}" ></textarea>
											</div>
										</div>
										<div class="btn-toolbar mr-1" role="toolbar" aria-label="Basic example" id="buttonid">
											<button type="submit" th:value="save" class="btn btn-primary"><span th:text="#{de.casedetails.saveformbtn}"></span></button>
											
												&nbsp;
											<button type="button" th:value="addmore" th:name="action" onclick="myFunction()"
													id="resetdata" class="btn btn-primary"><span th:text=" #{de.prosecutionProposal.addmoreprosecution}"></span></button>
												
												
											
										                
													<button th:if="${ProsecutionProposalObj.fileNo ne null}"   type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal2">
                        								             
									          <span> <span th:text="#{casedetails.preview.button}"> Preview</span></span>
						                           	</button>
						                      <a th:href="@{|/departmentalEnquiry/finalOutCometailswithoutde/1?fileNo=${ProsecutionProposalObj.fileNo}|}" th:if="${ProsecutionProposalObj.id ne null or ProsecutionProposalObj.id >0}"   
													id="next" class="btn btn-primary"><span th:text="#{de.prosecution.next.label}"></span></a>	     	
										</div>


									</form>



								</div>
							</div>
						</div>

					</div>


					 <div class="row"  id="gridviewProsecutionProposaldtlsId"style="margin-left: 22px;padding-right: 29px">

						<div class="col-lg-12 grid-margin stretch-card">

							<div class="card">
								<div class="card-body">


									<div class="table-responsive">
									
									<!-- <div class="col-md-12">
											<label for="Search"><span th:text="#{enter.search.item.prosecution.without.de}"></span></label> 
											<input
												type="Search" id="searchbtn" th:value="${search}"
												class="form-control ui-autocomplete-input"   
												placeholder="Please Enter Case No. / File No./ Date of Receipt / Status" name="" value="" autocomplete="off">
										<br>
										<button class="btn btn-success" id="filterbutton"><b style="color: light;">Search</b></button>
										</div> -->
<!-- 										<br> -->
<!-- 										      <div> -->
<!-- 										      <button class="btn btn-success" id="filterbutton"><b style="color: light;">Search</b></button></div> -->
										
								
                                            <div> <b style="color: blue;float: right;"> <span th:text="#{de.totalprosecutionwithoutde.lab} "></span> <span th:text="${totalItems}"></span></b>
								              	<label><h4 style="margin-top: 5px;"><span th:text="#{prosecution.proposal.list.details.without.de}"></span></h4></label>
								                </div>
										
										<table class="table table-bordered dark table-sm">
											<thead>
												<tr align="center">
													<th width="5%"><center><span th:text="#{de.enquiry.srno}"></span></center></th>
													<th width="7%"><span th:text="#{de.file.no.labels}"></span></th>
													<th width="5%"><center><span th:text="#{de.enquiry.caseno}"></span></center></th>
													
													<!-- <th class="text-wrap"> Proposal of Prosecution is Received</th> -->
													<th class="text-wrap"><span th:text=" #{de.prosecutionProposal.dateofreceipt}"></span></th>
													<th class="text-wrap"><span th:text=" #{de.prosecutionProposal.dateofOrderofSanction}"></span></th>
													<th class="text-wrap"><span th:text=" #{de.prosecutionProposal.dateofcommunication}"></span></th>
													<th class="text-wrap"><span th:text=" #{de.prosecutionProposal.casefiledincourt}"></span></th>
													<th class="text-wrap"><span th:text=" #{de.prosecutionProposal.courtcasestatus}"></span> </th>
													<th class="text-wrap"><span th:text="#{de.prosecutionProposal.dateoforderofthecourt}">
													</span></th>
													<th class="text-wrap">
													<span th:text="#{de.prosecutionProposal.dateofChargesheetIssued}">
													</span></th>
													
													<th class="text-wrap">
														<span th:text=" #{de.prosecutionProposal.uploadOrderProsecution}"></span>
													</th>
													
													<th width="4%"  class="text-wrap"><center><span th:text="#{de.empdetails.action}"></span></center></th>
												</tr>

											</thead>
											<tbody>
												<tr th:each="article,iState:${ProsecutionDetailsGridList}" >

													<td th:text="${pageIndex+iState.index}"></td>
													<td>
														<span th:text="${article.fileNo}"></span>
													</td>

													<td>
													
														<span  th:if="${article.casedetails ne null}"
														 th:text="${article.casedetails.caseNo}"></span>
													</td>
													
													

													<!-- <td class="text-wrap">
														<span th:if="${article.prosecutionProposalReceived}"
															th:text="#{de.boolean.yes}"></span>
														<span th:unless="${article.prosecutionProposalReceived}"
															th:text="#{de.boolean.no}"></span>
													</td> -->


													<td class="text-wrap">
														<span th:if="${article.dateOfReceipt ne null}"
														 th:text="${#temporals.format(article.dateOfReceipt, 'dd-MM-yyyy')}"></span>
													</td>
													<td class="text-wrap">
														<span 
														th:if="${article.dateOfOrderReceipt ne null}"
														th:text="${#temporals.format(article.dateOfOrderReceipt, 'dd-MM-yyyy')}"></span>
													</td>

													<td class="text-wrap">
														<span 
														th:if="${article.dateOfCommunication ne null}"
														th:text="${#temporals.format(article.dateOfCommunication, 'dd-MM-yyyy')}"></span>
													</td>


													<td class="text-wrap">
														<span th:if="${article.whetherCaseFiledIntheCourt}"
															th:text=#{de.boolean.yes}></span>
														<span th:unless="${article.whetherCaseFiledIntheCourt}"
															th:text=#{de.boolean.no}></span>
													</td>


													<td class="text-wrap">
														<span th:text="${article.status}"></span>
													</td>

													<td class="text-wrap">
														<span 
														th:if="${article.dateOfOrderoftheCourt ne null}"
														th:text="${#temporals.format(article.dateOfOrderoftheCourt, 'dd-MM-yyyy')}"></span>
													</td>
													
														<td class="text-wrap">
														<span 
														th:if="${article.dateofChargesheetIssued ne null}"
														th:text="${#temporals.format(article.dateofChargesheetIssued, 'dd-MM-yyyy')}"></span>
													</td>


													<td class="text-wrap">
													<strong><a th:if="${article.fileNameUploadCopy ne null}" 
													th:href="@{|/departmentalEnquiry/DocuploadOrderofProsecution/${article.id}|}" target="_blank">
														<span th:text="${article.fileNameUploadCopy}"></span>
														<!-- View Order -->
														<br><br>
													</a>
													<a th:if="${article.finalcourtordercopy ne null}" 
													th:href="@{|/departmentalEnquiry/DocuploadOrderofProsecutionfinalcourtordercopy/${article.id}|}" target="_blank">
														<span th:text="${article.finalcourtordercopy}"></span>
														<!-- View Order -->
														<br>
													</a>
													</strong>
														
													</td>

													<!-- <td class="text-wrap">
														<span><a
																th:href="@{| /departmentalEnquiry/editProsecutionProposalDtlsWithoutDe/${article.id} /${currentPage}/}">
																<button class="btn btn-primary" >Edit</button></a> </span>
													</td>
													 -->
													
													
													<td>
														<span>
														<a
																th:href="@{| /departmentalEnquiry/editProsecutionProposalDtlsWithoutDe/${article.id}/${currentPage}|}">
																<button class="btn btn-primary" ><span th:text="#{de.edit.button.all}"></span></button></a></span>
													</td>


												<!-- 	<td class="text-wrap">
														<span><a
																th:href="@{| /departmentalEnquiry/deleteProsecutionProposalDetailsRecords/${article.id} |}"><img
																	th:src="@{/img/delete.png}" alt="logo" /></a></span>
													</td>
                                                       -->






												</tr>

											</tbody>


										</table>
									</div>

											<!-- // adding pagination -->
									<br>
									<div><a href="#up"  class="btn btn-info btn-sm" style="float: right;" id="downbtn"><span th:text="#{de.employeedetails.scrollup}"></span></a>
								</div>
									
									<div class="row" th:fragment="pagination">
										<div>
											<b style="color: blue"><span th:text="#{de.totalprosecutionwithoutde.lab} "></span></span> <span th:text="${totalItems}"></span></b>
										</div>
										<div class="col-md-8">
											<nav aria-label="Pagination">
												<ul class="pagination justify-content-center">
													<li class="page-item" th:if="${currentPage > 1}">
														<a class="page-link"
															th:href="@{|/departmentalEnquiry/prosecutionProposaldetailsWithoutDE/1|}"
															th:text="#{pages.first}">First</a>
														<span th:unless="${currentPage > 1}"
															th:text="#{pages.first}">First</span>
													</li>

													<li class="page-item">
														<a class="page-link" th:if="${currentPage > 1}"
															th:href="@{|/departmentalEnquiry/prosecutionProposaldetailsWithoutDE/${currentPage - 1}|}"
															th:text="#{pages.previous}">Previous</a>
														<span th:unless="${currentPage > 1}"
															th:text="#{pages.previous}">Previous</span>
													</li>

													<li class="page-item" th:each="i: ${#numbers.sequence(begin, end)}"
														th:if="${begin<end}">
														<a th:class="${currentPage != i ? 'page-link': 'page-linkhighlight'}"
															th:href="@{|/departmentalEnquiry/prosecutionProposaldetailsWithoutDE/${i}|}"
															th:text="${i}"></a>

													</li>

													<li class="page-item">
														<a class="page-link" th:if="${currentPage < totalPages}"
															th:href="@{|/departmentalEnquiry/prosecutionProposaldetailsWithoutDE/${currentPage + 1}|}"
															th:text="#{pages.next}">Next</a>
														<span th:unless="${currentPage < totalPages}"
															th:text="#{pages.next}">Next</span>
													</li>

													<li class="page-item">
														<a class="page-link" th:if="${currentPage < totalPages}"
															th:href="@{|/departmentalEnquiry/prosecutionProposaldetailsWithoutDE/${totalPages}|}"
															th:text="#{pages.last}">Last</a>
														<span th:unless="${currentPage < totalPages}"
															th:text="#{pages.last}">Last</span>
													</li>

												</ul>
											</nav>
										</div>
										<div class="col-md-2"></div>
									</div>
									<!-- 	ending pagination -->












								</div>
							</div>
						</div>



					</div>
 






					<!-- 	ending grid part here -->

					<div class="row">
						<br>
					</div>








				</div>

			</div>

		</div>

	</div>

	<div th:replace="fragments/ehrms_footerlib.html :: footerlib"></div>
	
	
	<!-- Modal print modal -->
	<div class="modal fade" id="myModalprint" role="dialog">
		<div class="modal-dialog modal-xl">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title">
					</h4>
					<button type="button" class="close" data-dismiss="modal"  onclick="closeModalFunction()">&times;</button>
				</div>
				<div class="modal-body">
					<div class="card">
						<div class="card-body">
							<div id="embeds"></div>
							<object id="embedPDF" accept="application/pdf" width="100%" height="500"
								style="height: 85vh;">
								<span th:text="#{Form.error.nodocumentfound}"></span>
							</object>

						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	
		<!-- this code for view pdf  -->
	
	<script th:inline="javascript">
	
	/* added on 19/01/2023  as per DE requirements ...  */
	
	function printDivforInsidePreview(printdata) {	
	    var printContents = document.getElementById(printdata).innerHTML;
	     jQuery.noConflict();
	    var originalContents = document.body.innerHTML;
	   document.body.innerHTML = printContents;
	  var modalid='#myModal2';
    	$(modalid).modal('hide');	
      window.print();		
       $(modalid).modal('hide');	
	 document.body.innerHTML = originalContents; 	  		 
	 location.reload();
	   var l=new Loading();
	} 
	
	function closeModalForce(){
		$('#myModalprint').modal('hide');
		$('#myModal2').hide();
		$('.modal-backdrop').remove();
	}
	
	
	var selections = $("#servicegroup :selected").val();
	var designationId = /*[[${{ProsecutionProposalObj.designation.designation_id}}]]*/;
//	var designationId = null;
	$('#designation').empty();
	if(selections != null && selections != '') {
		var urlx = "/de/departmentalEnquiry/selectdesignationdata/"+selections;
		
		getdata(urlx,function(data) {
			 $('#designation').append('<option value="">select</option>');
			 $.each(data, function(i, d) {
				 if(designationId != null && designationId == d.id) {
					 $('#designation').append('<option value="' + d.id + '" selected>' + d.name + '</option>');
				 } else {
					 $('#designation').append('<option value="' + d.id + '">' + d.name + '</option>');
				 }
	            
	         });		
		});
	} else {
		 $('#designation').append('<option value="">select</option>');
	}
	
	$('#servicegroup').change(function(){
		var selections = $("#servicegroup :selected").val();
		$('#designation').empty();
		if(selections != null && selections != '') {
			var urlx = "/de/departmentalEnquiry/selectdesignationdata/"+selections;
		
			getdata(urlx,function(data) {
				 $('#designation').append('<option value="">select</option>');
				 $.each(data, function(i, d) {
					 if(designationId != null && designationId == d.id) {
						 $('#designation').append('<option value="' + d.id + '" selected>' + d.name + '</option>');
					 } else {
						 $('#designation').append('<option value="' + d.id + '">' + d.name + '</option>');
					 }
		         });		
			});
		} else {
			 $('#designation').append('<option value="">select</option>');
		}
	});
	
	$('#designation').select2({
		width: 'resolve'
	 
	});
	
	$('#designation').select2().change(function() {
	    $(this).valid();
	  });
	
	/* this   function  for  reset button */
	function myFunction() {
	           	var caseno = $('#SusCaseId').val();
	           	     console.log('hi');
//	             	$('#fileno').val('');
	            	$('#sevarthId').val('');
	            	$('#empid').val('');
					$('#firstname').val('');
					$('#middleName').val('');
					$('#lastName').val('');
					$('#dateOfReceipt').val(null);
					$('#dateOfOrderReceipt').val('');
					$('#status').val('');
					$('#SusCaseId').val(null);	
					$('#dateOfCommunication').val(null);	
					$('#remark').val('');
				   $('#filedatadata').val(null);
				   $('#courtName').val(null);
			      $('#courtCaseNo').val(null);
				  $('#dateOfOrderoftheCourt').val(null);
				  $('#processflow').val(null);
				  
				  $('#fileSubject').val('').trigger('change');
//					$('#prosecutionProposalReceivedno').prop("checked",true);
					$('#id').val(null);
				
				/* $('#periodofExtensionInDays').val(null);
				$('#dateofExtensionOrder').val('').trigger('change');
				$('#extensionUploadOrder').val('').trigger('change'); */
			
		/* $('#SusCaseId').val(caseno); */
	}	

	
	var modalid = null;
	
	$('#fileSubjectdata').hide();
	$('#caseSummerydata').hide();
	/* search  Record button for without DE prosecution proposal details */
	
		var sortfield = [[${{sortField}}]];
		var sortdire = 	[[${{sortDir}}]];
		
		var casenolabel = '';

		
		$('#filterbutton').click(function(){
         	console.log("this is for testing fn..");
         	casenolabel=$('#searchbtn').val();
         	var fromdate  = "";
         	var todate = "";
         	fromdate = $('#fromdate').val();
         	todate = $('#todate').val();
			window.location.href = '/de/departmentalEnquiry/prosecutionProposalwithoutdeSearch/1?search='+casenolabel+'&viewreport=true&fromdate='+fromdate+'&todate='+todate+'&sort-field='+sortfield+'&sort-dir='+sortdire;
			

					
					
		});
												
	
	function downloadlistForCaseDetailsviewPdf(){
		modalid = '#myModal2';
		var ff = new FormData();
		var printdata = '#printdata';
		var mymodal2 = '#myModal2';
		
		ff.append('html1', $(printdata).html());
		$('#embedPDF').attr('data', '');
		//	ff.append('html2',$('#link-list').html()); 
		postdata('/de/departmentalEnquiry/downloadorder/', ff, function (data) {
			jQuery.noConflict();
			$('#embedPDF').attr('data', data);
//			$(mymodal).click();
	//		$("#modal .close").click()
			$(mymodal2).modal('toggle');
			$('#myModalprint').modal();
		});
	}
	
	$('.close').click(function(){
		$('#myModalprint').modal('hide');
		$(modalid).modal('hide');
		$('.modal-backdrop').remove();
	});
	
	</script>
					
	
	
		<script th:inline="javascript">
		var prosecutionProposalReceived = JSON.parse($('input[name="prosecutionProposalReceived"]:checked').val());
		if(prosecutionProposalReceived) {
			$('#prosecutionProposalReceiveddata').show();
			$('#buttonid').show();
		} else {
			$('#prosecutionProposalReceiveddata').hide();
			$('#buttonid').hide();
		}		
		
		$('input[name="prosecutionProposalReceived"]').click(function(){
			var chargesheetIssued = JSON.parse($('input[name="prosecutionProposalReceived"]:checked').val());
			if(chargesheetIssued) {
				$('#prosecutionProposalReceiveddata').show();
				$('#buttonid').show();
				
			} else {
				$('#prosecutionProposalReceiveddata').hide();
				$('#buttonid').hide();
				
			}	
		});	
		var statusForGrantedDeniedPending = $('input[name="statusForGrantedDeniedPending"]:checked').val();
		if(statusForGrantedDeniedPending == undefined || statusForGrantedDeniedPending == 'Pending') {
			$('#dateOfOrderReceiptdata').hide();
			$('#dateOfCommunicationdata').hide();
			$('#dateOfCommunication').val('');
			$('#dateOfOrderReceipt').val('');
			$('#filedatadata').hide();
		}
		if(statusForGrantedDeniedPending == ' Sanction Denied') {
			$('#dateOfOrderReceiptdata').hide();
			$('#dateOfOrderReceipt').val('');
			$('#dateOfCommunicationdata').show();			
			$('#filedatadata').hide();
		}
		
		if(statusForGrantedDeniedPending == 'Sanction Granted') {
			$('#dateOfOrderReceiptdata').show();
			$('#dateOfCommunicationdata').hide();
			$('#dateOfCommunication').val('');
			$('#filedatadata').show();
		}
		
		$('input[name="statusForGrantedDeniedPending"]').click(function(){
			var statusForGrantedDeniedPending = $('input[name="statusForGrantedDeniedPending"]:checked').val();
			if(statusForGrantedDeniedPending == undefined || statusForGrantedDeniedPending == 'Pending') {
				$('#dateOfOrderReceiptdata').hide();
				$('#dateOfCommunicationdata').hide();
				$('#dateOfCommunication').val('');
				$('#dateOfOrderReceipt').val('');
				$('#filedatadata').hide();
			}
			if(statusForGrantedDeniedPending == ' Sanction Denied') {
				$('#dateOfOrderReceiptdata').hide();
				$('#dateOfOrderReceipt').val('');
				$('#dateOfCommunicationdata').show();			
				$('#filedatadata').hide();
			}
			
			if(statusForGrantedDeniedPending == 'Sanction Granted') {
				$('#dateOfOrderReceiptdata').show();
				$('#dateOfCommunicationdata').hide();
				$('#dateOfCommunication').val('');
				$('#filedatadata').show();
			}
		});
		
		var whetherCaseFiledIntheCourt = JSON.parse($('input[name="whetherCaseFiledIntheCourt"]:checked').val());
		if(whetherCaseFiledIntheCourt) {
			$('#statusdata').show();
			$('#courtNamedata').show();
			$('#courtCaseNodata').show();
			var status = $('#status').val();
			if(status == '') {

				$('#dateOfOrderoftheCourtdata').hide();
			}
			if(status=='Pending') {

				$('#dateOfOrderoftheCourtdata').hide();
			}
			if(status=='Decided') {

				$('#dateOfOrderoftheCourtdata').show();
			}
			
		} else {
			$('#statusdata').hide();
			$('#status').val('');
			$('#courtNamedata').hide();
			$('#courtName').val('');
			$('#courtCaseNodata').hide();
			$('#courtCaseNo').val('');
		}
		
		$('input[name="whetherCaseFiledIntheCourt"]').click(function(){
			var whetherCaseFiledIntheCourt = JSON.parse($('input[name="whetherCaseFiledIntheCourt"]:checked').val());
			if(whetherCaseFiledIntheCourt) {
				$('#statusdata').show();
				$('#courtNamedata').show();
				$('#courtCaseNodata').show();
				var status = $('#status').val();
				if(status == '') {

					$('#dateOfOrderoftheCourtdata').hide();
				}
				if(status=='Pending') {

					$('#dateOfOrderoftheCourtdata').hide();
				}
				if(status=='Decided') {

					$('#dateOfOrderoftheCourtdata').show();
				}
				
			} else {
				$('#statusdata').hide();
				$('#status').val('');
				$('#courtNamedata').hide();
				$('#courtName').val('');
				$('#courtCaseNodata').hide();
				$('#courtCaseNo').val('');
			}
		});
		
		var status = $('#status').val();
		if(status == '') {
			$('#courtNamedata').hide();
			$('#courtCaseNodata').hide();
			$('#dateOfOrderoftheCourtdata').hide();
			$('#decisionCourtdata').hide();
			$('#decisionCourt').val('');
			$('#finalcourtorderdata').hide();
		}
		if(status=='Pending') {
			$('#courtNamedata').show();
			$('#courtCaseNodata').show();
			$('#dateOfOrderoftheCourtdata').hide();
			$('#decisionCourtdata').hide();
			$('#decisionCourt').val('');
			$('#finalcourtorderdata').hide();
		}
		if(status=='Decided') {
			$('#courtNamedata').show();
			$('#courtCaseNodata').show();
			$('#dateOfOrderoftheCourtdata').show();
			$('#decisionCourtdata').show();
			$('#finalcourtorderdata').show();
		}
		$('#status').change(function(){
			var status = $('#status').val();
			if(status == '') {
				$('#courtNamedata').hide();
				$('#courtCaseNodata').hide();
				$('#dateOfOrderoftheCourtdata').hide();
				$('#decisionCourtdata').hide();
				$('#decisionCourt').val('');
				$('#finalcourtorderdata').hide();
			}
			if(status=='Pending') {
				$('#courtNamedata').show();
				$('#courtCaseNodata').show();
				$('#dateOfOrderoftheCourtdata').hide();
				$('#decisionCourtdata').hide();
				$('#decisionCourt').val('');
				$('#finalcourtorderdata').hide();
			}
			if(status=='Decided') {
				$('#courtNamedata').show();
				$('#courtCaseNodata').show();
				$('#dateOfOrderoftheCourtdata').show();
				$('#decisionCourtdata').show();
				$('#finalcourtorderdata').show();
			}
		});
		
		
		
		
	try{  
		
		var ss = /*[[${{session.caseid}}]]*/;
		if(ss != null) {
			$('#casedetails').attr('readonly',true);
			/* $("#casedetails").attr('disabled', true);  */
			
		}
	} catch(error){  
		 
	}
	
	
/* 	var value = JSON.parse($("input[type=radio][name=withde]:checked").val());
		
	if(value) {							
		$('#withdecaseid').show();
		$('#SusCaseId').attr('required','required');
	}
	else {
		$('#withdecaseid').hide();
		$('#SusCaseId').removeAttr('required');
		$('#fileSubjectdata').hide();
		$('#caseSummerydata').hide();
	} */
		
/* 		$('input[type=radio][name=withde]').change(function(){
			var value = JSON.parse($("input[type=radio][name=withde]:checked").val());
			if(value) {							
				$('#withdecaseid').show();
				$('#SusCaseId').attr('required','required');
			}
			else {
				$('#withdecaseid').hide();
				$('#SusCaseId').removeAttr('required');
				$('#fileSubjectdata').hide();
				$('#caseSummerydata').hide();
			}
		}); */
		
	var value = $('#processflow').val();
	if(value == '') {
		$('#withdecaseid').hide();
		$('#next').hide();
		$('#dateofChargesheetIssued').hide();
	}
	if(value == '1') {
		$('#withdecaseid').hide();
		$('#next').hide();
		$('#dateofChargesheetIssued').hide();
	}
	if(value == '2') {
		$('#withdecaseid').show();
		$('#next').hide();
		$('#dateofChargesheetIssued').hide();
	}
	if(value == '3') {
		$('#withdecaseid').hide();
		$('#next').show();
		$('#dateofChargesheetIssued').hide();
	}
	if(value == '4') {
		$('#withdecaseid').hide();
		$('#next').show();
		$('#dateofChargesheetIssued').show();
	}
	
	$('#processflow').change(function(){
		var value = $('#processflow').val();
		if(value == '') {
			$('#withdecaseid').hide();
			$('#next').hide();
			$('#dateofChargesheetIssued').hide();
		}
		if(value == '1') {
			$('#withdecaseid').hide();
			$('#next').hide();
			$('#dateofChargesheetIssued').hide();
		}
		if(value == '2') {
			$('#withdecaseid').show();
			$('#next').hide();
			$('#dateofChargesheetIssued').hide();
		}
		if(value == '3') {
			$('#withdecaseid').hide();
			$('#next').show();
			$('#dateofChargesheetIssued').hide();
		}
		if(value == '4') {
			$('#withdecaseid').hide();
			$('#next').show();
			$('#dateofChargesheetIssued').show();
		}
	});
	
	</script>
	
	<script th:inline="javascript" async>
		$('#submitform').click(function () {
			var v = $(this).val();
			$('#empsubmit').submit();
		});

		function submitform() {

		}

		$("#prosecution").attr("class", "btn btn-info");


		var mess = [[${{message}}]];
		if (mess != null) {
			swal(mess);
		}
		
		$("#SusCaseId").autocomplete({
			source: function (request, response) {
				$.ajax({
					url: "/de/departmentalEnquiry/getCaseListjson",
					dataType: "json",
					data: {
						q: request.term
					},
					success: function (data) {
						//alert(data);
						response(data);
					}
				});
			},
			select: function (event, ui) {   //must be cleared with function parameter
				getdata('/de/departmentalEnquiry/getcasedetailJsons?caseid=' + ui.item.label, function (data) {
					if (data.error != null) {
						swal(data.error);
						$('#fileSubjectdata').hide();
						$('#caseSummerdata').hide();

					} else {
						$('#prosecutionProposalReceivedyes').prop('checked',true);
						$('#prosecutionProposalReceiveddata').show();
						$('#buttonid').show();
						$('#fileSubject').text(data.fileSubject);
						$('#caseSummary').text(data.caseSummary);
						$('#fileSubjectdata').show();
						$('#caseSummerydata').show();
					}
				});



			}
		});

		
		$("#fileno").autocomplete({
			source: function (request, response) {
				$.ajax({
					url: "/de/departmentalEnquiry/getFileNojson",
					dataType: "json",
					data: {
						q: request.term
					},
					success: function (data) {
						//alert(data);
						response(data);
					}
				});
			},
			select: function (event, ui) {   //must be cleared with function parameter
				getdata('/de/departmentalEnquiry/getfilenodetailJsons?caseid=' + ui.item.label, function (data) {
					if (data.error != null) {
						swal(data.error);
						

					} else {
						$('#sevarthId').val(data.sevarthId);
						$('#firstname').val(data.firstname);
						$('#middleName').val(data.middleName);
						$('#lastName').val(data.lastName);
					}
				});



			}
		});
		

		$("#casedetails").autocomplete({
			source: function (request, response) {
				$.ajax({
					url: "/de/departmentalEnquiry/getCaseListjson",
					dataType: "json",
					data: {
						q: request.term
					},
					success: function (data) {
						//alert(data);
						response(data);
					}
				});
			},
			select: function (event, ui) {   //must be cleared with function parameter
				getdata('/de/departmentalEnquiry/getprosecutionJsons?caseid=' + ui.item.label, function (data) {
					if (data.error != null) {
						swal(data.error);

					} else {
						$('#id').val(data.id);
						$('#casedetails').val(data.casedetails);
						$('#dateOfReceipt').val(data.dateOfReceipt);
						if(data.statusForGrantedDeniedPending != null) {
							$('#statusForGrantedDeniedPending').prop('checked', true);				
						}
						$('#dateOfOrderReceipt').val(data.dateOfOrderReceipt);
						$('#dateOfCommunication').val(data.dateOfCommunication);

						if (data.prosecutionProposalReceived) {
							$('#prosecutionProposalReceivedyes').prop('checked', true);
						} else {
							$('#prosecutionProposalReceivedyes').prop('checked', false);
						}

						if (data.whetherCaseFiledIntheCourt) {
							$('#whetherCaseFiledIntheCourtYes').prop('checked', true);
						} else {
							$('#whetherCaseFiledIntheCourtYes').prop('checked', false);
						}
						$('#status').val(data.status);
						$('#dateOfOrderoftheCourt').val(data.dateOfOrderoftheCourt);

					}
				});



			}
		});

	</script>
	<script sec:authorize="hasAnyRole('SUPERADMIN','SECRETARY')">
	$("#noticeregisteridmpsc :button").prop("disabled", true);
	$("#noticeregisteridmpsc :input").prop("disabled", true);
	$("#noticeregisteridmpsc :select").prop("disabled", true);
	</script>
	
	<!-- this code for preview screen  added on     date :: 25/10/2022 -->
<th:block th:include="DeptInquiryViews/Fragments/ProsecutionDetailsWithoutDEPreview.html:: ProsecutionProposalDetailsPreviewListRecordswithoutDE"></th:block>
	<div th:replace="fragments/ehrms_footer.html :: footer"></div>
	

</body>

</html>